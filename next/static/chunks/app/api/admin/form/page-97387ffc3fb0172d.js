(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{59929:(e,t,r)=>{Promise.resolve().then(r.bind(r,92113))},92113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(57437),n=r(2265),a=r(38472),s=r(59061),i=r(18422),l=r(24277),c=r(97669);let d=e=>{let{id:t,option:r,idx:d,edit:u,setLoading:p}=e,[x,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)(r),f=(0,n.useContext)(c.Z);if(!f)throw Error("AppModeContextProvider is missing");let{lightmode:v}=f,b=(0,n.useContext)(l.Z);if(!b)throw Error("AdminContextProvider is missing");let{refresh:w,setRefresh:y,optionIndex:k}=b,j=async()=>{h(!1),p(!0);try{let e={optionId:t,optionText:m};console.log(e);let r=await a.Z.put("".concat("https://spin-the-wheel-backend.onrender.com","/admin/updateOption"),e);200===r.status&&(y(!0),p(!1))}catch(e){console.error("Failed to save changes:",e)}};return(0,o.jsxs)("div",{className:"w-full flex items-center ".concat(u?"justify-between":"justify-start gap-3"," gap-2 p-2 rounded-lg m-1 \n    ").concat(v?"border-gray-200 bg-white shadow-lg border-[1px] ":"text-darkText bg-darkBg border-[1px] border-darkBorder"),children:[(0,o.jsxs)("span",{children:[k[d],". "]}),x?(0,o.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 focus:outline-none"}):(0,o.jsx)("span",{children:r}),(0,o.jsx)("div",{className:"h-4 w-4",children:u&&x?(0,o.jsx)(s.Z,{size:15,className:"cursor-pointer ".concat(!u&&"hidden"," hover:opacity-100  transition-colors"),onClick:j}):(0,o.jsx)(i.Z,{size:13,className:"cursor-pointer ".concat(!u&&"hidden"," hover:opacity-100  transition-colors"),onClick:()=>h(!0)})})]})};var u=r(28930);let p=e=>{let{id:t,index:r,question:l,options:p,edit:x}=e,[h,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[v,b]=(0,n.useState)(l),[w,y]=(0,n.useState)(p),k=(0,n.useContext)(c.Z);if(!k)throw Error("AppModeContextProvider is missing");let{lightmode:j}=k,C=async()=>{m(!1),f(!0);try{let e={questionId:t,questionText:v};console.log(e);let r=await a.Z.put("".concat("https://spin-the-wheel-backend.onrender.com","/admin/updateQuestion"),e);200===r.status&&f(!1)}catch(e){console.error("Failed to save changes:",e)}};return(0,o.jsx)("div",{children:g?(0,o.jsx)("div",{className:"w-full h-[250px] flex flex-row justify-center items-center",children:(0,o.jsx)(u.Z,{color:"#00BFFF",loading:!0,size:50})}):(0,o.jsxs)("div",{className:"my-5 p-5\n      ".concat(j?"border-gray-200 bg-white shadow-lg border-[1px] ":"text-darkText bg-darkBg border-[1px] border-darkBorder"),children:[x&&h?(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3",children:[(0,o.jsx)("input",{className:"w-full  border border-gray-300 rounded px-2 py-1 focus:outline-none",type:"text",value:v,onChange:e=>b(e.target.value)}),(0,o.jsx)("button",{onClick:C,children:(0,o.jsx)(s.Z,{size:18,className:"cursor-pointer text-green-600 hover:text-green-700 transition-colors",onClick:C})})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between mb-3",children:[(0,o.jsxs)("h3",{className:"text-lg",children:[r,". ",l]}),(0,o.jsx)("button",{onClick:()=>m(!0),children:(0,o.jsx)(i.Z,{size:18,opacity:.7,className:"cursor-pointer ".concat(!x&&"hidden"," hover:opacity-100 transition-opacity"),onClick:()=>m(!0)})})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 items-baseline gap-2",children:w.map((e,t)=>(0,o.jsx)("div",{children:(0,o.jsx)(d,{id:e.id,idx:t,option:e.option,edit:x,setLoading:f})},e.id))})]})})},x=e=>{let{form:t,formIndex:r}=e,[s,i]=(0,n.useState)(!1),l=(0,n.useContext)(c.Z);if(!l)throw Error("AppModeContextProvider is missing");let{lightmode:d}=l,u=async e=>{try{let t="".concat("https://spin-the-wheel-backend.onrender.com","/admin/delete/").concat(e),r=await a.Z.delete(t);200===r.status&&alert("Form Deleted Successfully"),console.log(r.data.message)}catch(e){if(a.Z.isAxiosError(e)){var t,r;console.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"An error occurred while deleting the form")}else console.error("An unexpected error occurred:",e)}};return(0,o.jsxs)("div",{className:"rounded-lg p-4 ".concat(d?"border-gray-200 bg-white shadow-lg border-[1px] ":"text-darkText bg-darkBg border-[1px] border-darkBorder"),children:[(0,o.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row justify-between items-center",children:[(0,o.jsxs)("h1",{className:"text-center font-bold",children:["Form ",r+1]}),(0,o.jsxs)("div",{className:"flex flex-row justify-between items-center gap-3",children:[(0,o.jsx)("button",{className:"px-3 py-2  ".concat(d?"bg-blue-400 text-white":"bg-darkBg border-[1px] border-darkBorder text-darkText"," text-dark rounded-lg"),children:"Add Question"}),(0,o.jsx)("button",{className:"px-3 py-2  ".concat(d?"bg-blue-400 text-white":"bg-darkBg border-[1px] border-darkBorder text-darkText"," ").concat(s&&"bg-red-600 text-white"," text-dark rounded-lg"),onClick:()=>{i(!s)},children:s?"Cancel":"Edit Form"}),(0,o.jsx)("button",{className:"px-3 py-2  ".concat(d?"bg-blue-400 text-white":"bg-darkBg border-[1px] border-darkBorder text-darkText"," ").concat(s&&"bg-red-600 text-white"," text-dark rounded-lg"),onClick:()=>{u(t.formid)},children:"Delete"})]})]}),t.form.map((e,t)=>(0,o.jsx)(p,{id:e.questionId,index:t+1,question:e.question,options:e.options,edit:s},t))]},r)};function h(){let e=(0,n.useContext)(c.Z);if(!e)throw Error("AppModeContextProvider is missing");let{lightmode:t,setLightMode:r}=e,s=(0,n.useContext)(l.Z);if(!s)throw Error("AdminContextProvider is missing");let{refresh:i,setRefresh:d}=s,[p,h]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{try{let e="".concat("https://spin-the-wheel-backend.onrender.com","/admin/getFormWithId/").concat("4a8e0f7b-77cb-4c01-a436-fcc1ee22d5a1");console.log(e);let t=(await a.Z.get(e)).data;console.log(t),h(t)}catch(e){e.response?console.error("Error fetching forms:",e.response.status,e.response.data):console.error("Error fetching forms:",e.message)}})()},[i]),(0,o.jsx)("div",{className:"flex flex-col gap-5 p-4 ".concat(!t&&"bg-darkBg"),children:p.length>0?p.map((e,t)=>(0,o.jsx)(x,{formIndex:t,form:e})):(0,o.jsx)("div",{className:"w-full h-[100vh] flex flex-row justify-center items-center",children:(0,o.jsx)(u.Z,{color:"#00BFFF",loading:!0,size:50})})})}},24277:(e,t,r)=>{"use strict";r.d(t,{AdminContextProvider:()=>s,Z:()=>i});var o=r(57437),n=r(2265);let a=(0,n.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)(1),[c,d]=(0,n.useState)([]);return(0,o.jsx)(a.Provider,{value:{refresh:r,setRefresh:s,optionIndex:["A","B","C","D"],noOfQuestion:i,setNoofQuestion:l,Form:c,setForm:d},children:t})}let i=a},97669:(e,t,r)=>{"use strict";r.d(t,{AppModeContextProvider:()=>s,Z:()=>i});var o=r(57437),n=r(2265);let a=(0,n.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{r?localStorage.setItem("lightmode","true"):localStorage.setItem("lightmode","false")},[r]),(0,o.jsx)(a.Provider,{value:{lightmode:r,setLightMode:s},children:t})}let i=a},78030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var o=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,o.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...p}=e;return(0,o.createElement)("svg",{ref:t,...s,width:n,height:n,stroke:r,strokeWidth:l?24*Number(i)/Number(n):i,className:a("lucide",c),...p},[...u.map(e=>{let[t,r]=e;return(0,o.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let r=(0,o.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,o.createElement)(i,{ref:s,iconNode:t,className:a("lucide-".concat(n(e)),l),...c})});return r.displayName="".concat(e),r}},18422:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});let o=(0,r(78030).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},59061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});let o=(0,r(78030).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},28930:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(2265),n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var o=(e.match(/[^0-9]*$/)||"").toString();return n[o]?{value:t,unit:o}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r},l=function(e,t,r){var o="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return o;var n=document.createElement("style");document.head.appendChild(n);var a=n.sheet,s="\n    @keyframes ".concat(o," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(s,0),o}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");let c=function(e){var t=e.loading,r=e.color,n=void 0===r?"#000000":r,c=e.speedMultiplier,d=e.cssOverride,u=e.size,p=void 0===u?35:u,x=i(e,["loading","color","speedMultiplier","cssOverride","size"]),h=s({background:"transparent !important",width:a(p),height:a(p),borderRadius:"100%",border:"2px solid",borderTopColor:n,borderBottomColor:"transparent",borderLeftColor:n,borderRightColor:n,display:"inline-block",animation:"".concat(l," ").concat(.75/(void 0===c?1:c),"s 0s infinite linear"),animationFillMode:"both"},void 0===d?{}:d);return void 0===t||t?o.createElement("span",s({style:h},x)):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[472,130,184,744],()=>t(59929)),_N_E=e.O()}]);