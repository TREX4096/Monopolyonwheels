(()=>{var e={};e.id=148,e.ids=[148],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},69090:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(3003),i=s(14293),a=s(66550),n=s.n(a),o=s(86979),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["api",{children:["user",{children:["spin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87535)),"/home/trex4096/Desktop/Projects/test/app/api/user/spin/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,66877)),"/home/trex4096/Desktop/Projects/test/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,52075,23)),"next/dist/client/components/not-found-error"]}],d=["/home/trex4096/Desktop/Projects/test/app/api/user/spin/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/api/user/spin/page",pathname:"/api/user/spin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},31264:(e,t,s)=>{Promise.resolve().then(s.bind(s,57593))},74828:(e,t,s)=>{Promise.resolve().then(s.bind(s,81271)),Promise.resolve().then(s.bind(s,99071)),Promise.resolve().then(s.bind(s,56102)),Promise.resolve().then(s.bind(s,98618))},85874:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,92639,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23)),Promise.resolve().then(s.t.bind(s,22816,23))},57593:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(68819),i=s(44099),a=s(17266),n=s(35047),o=s(98618);let l=[{id:1,scenario:"Pursue Higher Education",easy:"Skip higher education",tough:"Enroll in a Master's program",spinCommitment:3,careerPoints:6,emoji:"\uD83C\uDF93"},{id:2,scenario:"Start a New Business",easy:"Work for a stable job",tough:"Launch a startup with risks",spinCommitment:4,careerPoints:8,emoji:"\uD83D\uDCBC"},{id:3,scenario:"Relocate for a Job Opportunity",easy:"Stay in the current city",tough:"Move to a new city for a better role",spinCommitment:2,careerPoints:4,emoji:"\uD83C\uDFE2"},{id:4,scenario:"Invest in Skill Development",easy:"Stick with current skills",tough:"Enroll in an intensive course",spinCommitment:3,careerPoints:6,emoji:"\uD83D\uDCDA"},{id:5,scenario:"Work-Life Balance",easy:"Prioritize work-life balance",tough:"Take on a challenging project with longer hours",spinCommitment:2,careerPoints:4,emoji:"⚖️"},{id:6,scenario:"Career Change",easy:"Stay in the current field",tough:"Switch to a new industry",spinCommitment:4,careerPoints:8,emoji:"\uD83D\uDD04"},{id:7,scenario:"Leadership Role",easy:"Continue as a team member",tough:"Accept a leadership role",spinCommitment:3,careerPoints:6,emoji:"\uD83D\uDC65"},{id:8,scenario:"Pursue an International Internship",easy:"Choose a local opportunity",tough:"Apply for a competitive international internship",spinCommitment:5,careerPoints:10,emoji:"\uD83C\uDF0D"},{id:9,scenario:"Financial Investment",easy:"Save money in a regular account",tough:"Invest in stocks or mutual funds",spinCommitment:2,careerPoints:4,emoji:"\uD83D\uDCB0"},{id:10,scenario:"Community Service",easy:"Focus solely on career",tough:"Volunteer for a cause",spinCommitment:1,careerPoints:2,emoji:"\uD83E\uDD1D"}],c=()=>{let e=(0,n.useRouter)(),t=(0,a.useRef)(null),{data:s,status:c}=(0,o.kP)(),[d,u]=(0,a.useState)(void 0),[h,m]=(0,a.useState)("en"),[p,x]=(0,a.useState)(0),[b,f]=(0,a.useState)(void 0),[v,g]=(0,a.useState)(void 0),[j,y]=(0,a.useState)(null),[P,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)(0),[N,F]=(0,a.useState)(!1),[S]=(0,a.useState)([{id:1,spins:10,title:"Task 1",path:"/api/user/survey1"},{id:2,spins:10,title:"Task 2",path:"/api/user/survey2"}]),q=e=>{let t=window.devicePixelRatio||1,s=e.getBoundingClientRect();e.width=s.width*t,e.height=s.height*t;let r=e.getContext("2d");return r?(r.scale(t,t),e.style.width=`${s.width}px`,e.style.height=`${s.height}px`,r):null},D=()=>{let e=t.current;if(!e)return;let s=q(e);if(!s)return;let r=e.getBoundingClientRect(),i=r.width,a=r.height,n=Math.min(i,a)/2.2,o=2*Math.PI/l.length;s.clearRect(0,0,i,a),s.save(),s.translate(i/2,a/2),s.rotate(k),s.beginPath(),s.arc(0,0,n,0,2*Math.PI),s.strokeStyle="#FFD700",s.lineWidth=15,s.stroke(),l.forEach((e,t)=>{let r=t*o;s.beginPath(),s.moveTo(0,0),s.arc(0,0,n-2,r,(t+1)*o),s.fillStyle=t%2==0?"#FFFFFF":"#DC2626",s.fill(),s.strokeStyle="#FFFFFF",s.lineWidth=2,s.stroke(),s.save(),s.rotate(r+o/2),s.textAlign="center",s.textBaseline="middle",s.fillStyle=t%2==0?"#000000":"#FFFFFF",s.font="32px sans-serif",s.fillText(e.emoji,n-50,0),s.restore()}),s.beginPath(),s.arc(0,0,15,0,2*Math.PI),s.fillStyle="#FFD700",s.fill(),s.strokeStyle="#FFFFFF",s.lineWidth=2,s.stroke(),s.restore()},M=()=>{let e=t.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let r=e.getBoundingClientRect().width;s.save(),s.translate(r/2,20),s.beginPath(),s.moveTo(-15,0),s.lineTo(15,0),s.lineTo(0,30),s.closePath(),s.fillStyle="#FFD700",s.fill(),s.strokeStyle="#FFFFFF",s.lineWidth=2,s.stroke(),s.restore()},A=async e=>{if(!s?.user?.id||!j)return;let t=e?j.careerPoints:0,r=e?j.spinCommitment+1:1;try{await i.Z.post(`https://spin-the-wheel-backend.onrender.com/user/updatePoints/${s.user.id}`,{points:t,spinUpdate:-r});let e=await i.Z.get(`https://spin-the-wheel-backend.onrender.com/user/leaderboard/${s.user.id}/4a8e0f7b-77cb-4c01-a436-fcc1ee22d5a1`);u(e.data),x(e.data.user.points),f(e.data.user.spinLeft),y(null)}catch(e){console.error("Error handling choice:",e)}},R=(t,s)=>{s.stopPropagation(),F(!1),e.push(t)};return(0,a.useEffect)(()=>{s?.user?.id&&i.Z.get(`https://spin-the-wheel-backend.onrender.com/user/leaderboard/${s.user.id}/4a8e0f7b-77cb-4c01-a436-fcc1ee22d5a1`).then(e=>{u(e.data),f(e.data.user.spinLeft),x(e.data.user.points),g(e.data?.user?.rank)}).catch(e=>{console.error("Error fetching details:",e)})},[s]),(0,a.useEffect)(()=>{let e=t.current;e&&(e.width=800,e.height=800,D(),M())},[k]),(0,a.useEffect)(()=>{let e=new Audio("/tick.mp3");return P?e.play():e.pause(),()=>{e.pause()}},[P]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 p-4",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-black",children:"Career Decision Game"}),(0,r.jsxs)("div",{className:"bg-white/30 backdrop-blur-sm rounded-full p-1 flex items-center",children:[(0,r.jsx)("button",{onClick:()=>m("en"),className:`px-3 py-1 rounded-full text-gray-800 text-sm ${"en"===h?"bg-white":""}`,children:"En"}),(0,r.jsx)("button",{onClick:()=>m("ar"),className:`px-3 py-1 rounded-full text-gray-800 text-sm ${"ar"===h?"bg-white":""}`,children:"عربي"})]})]}),(0,r.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-3xl p-6 shadow-lg mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-xl font-bold",children:["Global Rank: ",v]}),(0,r.jsxs)("div",{className:"text-xl font-bold",children:["Career points: ",p]})]}),(0,r.jsxs)("div",{className:"text-xl font-bold",children:["Spin: ",b]})]}),(0,r.jsxs)("div",{className:"relative mb-6 aspect-square",children:[(0,r.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 text-4xl",children:(0,r.jsx)("span",{role:"img","aria-label":"pointer",children:"\uD83D\uDCCD"})}),(0,r.jsx)("canvas",{ref:t,width:300,height:300,className:"w-full h-full",style:{transition:P?"none":"transform 0.3s ease-out"}})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:()=>{if(P||0>=(b||0))return;w(!0);let e=Date.now(),t=2*Math.PI*(4+4*Math.random()),s=()=>{let r=Math.min(1,(Date.now()-e)/3e3),i=k+t*(1-Math.pow(1-r,3));if(C(i),r<1)requestAnimationFrame(s);else{w(!1);let e=Math.floor(i%(2*Math.PI)/(2*Math.PI)*l.length);y(l[l.length-1-e])}};requestAnimationFrame(s)},disabled:P||0>=(b||0),className:"w-full bg-yellow-300 hover:bg-yellow-400 text-black font-bold py-3 px-6 rounded-full disabled:opacity-50",children:"Click to spin"}),(0,r.jsx)("button",{onClick:()=>F(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full",children:"Click to get more spins"})]})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Leader Board"}),(0,r.jsx)("div",{className:"flex justify-center items-end space-x-8",children:d?.leaderBoard?.map((e,t)=>e&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`${t+1===1?"w-24 h-24":"w-20 h-20"} bg-gray-200 rounded-full flex items-center justify-center mb-2`,children:r.jsxs("div",{className:`${t+1===1?"text-2xl":"text-xl"} font-bold`,children:["#",t+1]})}),r.jsx("div",{className:"font-semibold",children:e.name})]},t))})]}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-4",children:j.scenario}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:()=>{A(!1)},className:"w-full bg-gray-100 hover:bg-gray-200 text-black font-semibold py-2 px-4 rounded",children:j.easy}),(0,r.jsxs)("button",{onClick:()=>{A(!0)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded",children:[j.tough,(0,r.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-center",children:[(0,r.jsxs)("span",{className:"text-sm ml-2",children:["(+",j.careerPoints," pts)"]}),(0,r.jsxs)("span",{className:"text-sm ml-2",children:["(- ",`${j.spinCommitment+1}`," spin)"]})]})]})]})]})}),N&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",onClick:()=>F(!1),children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Get More Spins"}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),F(!1)},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:S.map(e=>(0,r.jsxs)("div",{onClick:t=>R(e.path,t),className:"bg-blue-50 rounded-xl p-4 border border-blue-200 hover:border-blue-400 transition-colors cursor-pointer shadow-sm hover:shadow-md",children:[(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,r.jsx)("img",{src:"/dollar-bag.svg",alt:"",className:"h-16 w-16 mb-2"}),(0,r.jsx)("span",{className:"text-green-700 font-bold",children:e.spins})]}),(0,r.jsxs)("div",{className:"text-center text-gray-700 font-medium",children:[e.title,": ",e.spins," spins"]})]},e.id))})]})})]})})}},81271:(e,t,s)=>{"use strict";s.d(t,{AdminContextProvider:()=>n,Z:()=>o});var r=s(68819),i=s(17266);let a=(0,i.createContext)(void 0);function n({children:e}){let[t,s]=(0,i.useState)(!1),[n,o]=(0,i.useState)(1),[l,c]=(0,i.useState)([]);return(0,r.jsx)(a.Provider,{value:{refresh:t,setRefresh:s,optionIndex:["A","B","C","D"],noOfQuestion:n,setNoofQuestion:o,Form:l,setForm:c},children:e})}let o=a},99071:(e,t,s)=>{"use strict";s.d(t,{AppModeContextProvider:()=>n,Z:()=>o});var r=s(68819),i=s(17266);let a=(0,i.createContext)(void 0);function n({children:e}){let[t,s]=(0,i.useState)(!0);return(0,r.jsx)(a.Provider,{value:{lightmode:t,setLightMode:s},children:e})}let o=a},56102:(e,t,s)=>{"use strict";s.d(t,{UserContextProvider:()=>n,Z:()=>o});var r=s(68819),i=s(17266);let a=(0,i.createContext)(void 0);function n({children:e}){let[t,s]=(0,i.useState)("");return(0,r.jsx)(a.Provider,{value:{UserId:t,setUserId:s},children:e})}let o=a},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},87535:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>e});var i=s(71851);let e=(await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/app/api/user/spin/page.tsx`)).default;r()}catch(e){r(e)}},1)},66877:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>p,metadata:()=>x});var i=s(89351),a=s(68215),n=s.n(a),o=s(20623),l=s.n(o);s(67272);var c=s(69256),d=s(73449),u=s(3182),h=s(39651),m=e([c,d,u,h]);[c,d,u,h]=m.then?(await m)():m;let x={title:"Create Next App",description:"Generated by create next app"};function p({children:e}){return(0,i.jsx)("html",{lang:"en",children:(0,i.jsx)("body",{className:`${n().variable} ${l().variable} antialiased`,children:(0,i.jsx)(c.eA,{children:(0,i.jsx)(u.H,{children:(0,i.jsx)(d.f,{children:(0,i.jsx)(h.S,{children:e})})})})})})}r()}catch(e){r(e)}})},3182:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{H:()=>a});var i=s(71851);let e=await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/context/adminContext.tsx`),a=e.AdminContextProvider;e.default,r()}catch(e){r(e)}},1)},39651:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{S:()=>a});var i=s(71851);let e=await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/context/appMode.tsx`),a=e.AppModeContextProvider;e.default,r()}catch(e){r(e)}},1)},73449:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{f:()=>a});var i=s(71851);let e=await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/context/userContext.tsx`),a=e.UserContextProvider;e.default,r()}catch(e){r(e)}},1)},67272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[826,363,99],()=>s(69090));module.exports=r})();