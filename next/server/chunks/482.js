exports.id=482,exports.ids=[482],exports.modules={74828:(e,t,r)=>{Promise.resolve().then(r.bind(r,81271)),Promise.resolve().then(r.bind(r,99071)),Promise.resolve().then(r.bind(r,56102)),Promise.resolve().then(r.bind(r,98618))},85874:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,92639,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23)),Promise.resolve().then(r.t.bind(r,22816,23))},90661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var s=r(68819),i=r(17266),n=r(35047),l=r(44099),a=r(62881);let d=(0,a.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,a.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var c=r(69669),u=r(98618);let x=({showBack:e=!0})=>{let t=(0,n.useRouter)(),[r,l]=(0,i.useState)(!0);return(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-white border-b z-10",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center",children:[e&&(0,s.jsx)("button",{onClick:()=>t.push("/api/user/spin"),className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,s.jsx)(d,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,s.jsx)("h1",{className:"text-2xl font-medium",children:"Monopolyonwheels"}),(0,s.jsx)("button",{onClick:()=>l(!r),className:"opacity-0 text-sm px-3 py-1 rounded-full border bg-gray-50 hover:bg-gray-100 transition-colors",children:r?"En":"عربي"})]})]})})},h=({current:e,total:t})=>(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:(0,s.jsx)("div",{className:"bg-green-400 h-2.5 rounded-full",style:{width:`${e/t*100}%`}})}),m=({question:e,options:t,onOptionSelect:r,selectedOption:i,handleNavigation:n,loading:l,isMultipleCorrect:a,isSurvey:d,answerFeedback:u,showingFeedback:x})=>{let h=e=>{if(!x)return i.includes(e)?"border-blue-400 bg-blue-50":"border-gray-200 hover:border-gray-300";if(u){if(u.answers.includes(e))return"border-green-400 bg-green-50";if(u.incorrect.includes(e))return"border-red-400 bg-red-50"}return"border-gray-200"},m=e=>x&&u?u.answers.includes(e)?(0,s.jsx)(o,{className:"w-5 h-5 text-green-500"}):u.incorrect.includes(e)?(0,s.jsx)(c.Z,{className:"w-5 h-5 text-red-500"}):null:null,v=e=>{x||(a?i.includes(e)?r(i.filter(t=>t!==e)):r([...i,e]):r([e]))};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("h2",{className:"text-lg font-medium mb-4",children:[e," ",a&&"(multiple)"]})}),(0,s.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,s.jsx)("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${h(e.id)}`,onClick:()=>v(e.id),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center flex-1",children:[(0,s.jsx)("div",{className:`w-4 h-4 rounded-full border mr-3 flex items-center justify-center ${i.includes(e.id)?"border-blue-400 bg-blue-400":"border-gray-300"}`,children:i.includes(e.id)&&(0,s.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,s.jsx)("label",{className:"flex-1 cursor-pointer",children:e.option})]}),(0,s.jsx)("div",{className:"ml-2",children:m(e.id)})]})},e.id))}),(0,s.jsx)("div",{className:"flex justify-between mt-8",children:(0,s.jsx)("button",{onClick:()=>n("next"),disabled:0===i.length||l,className:"px-6 py-2 bg-green-400 text-white rounded-full hover:bg-green-500 transition-colors disabled:bg-gray-300",children:l?"Submitting...":x?"Next":d?"Next":"Submit"})})]})},v=({questions:e,formId:t,isSurvey:r})=>{let a=(0,n.useRouter)(),{data:d}=(0,u.kP)(),o=d?.user?.id,c=e.filter(e=>!e.ismarked),[v,b]=(0,i.useState)(0),[p,g]=(0,i.useState)([]),[f,y]=(0,i.useState)(!1),[j,w]=(0,i.useState)(null),[N,k]=(0,i.useState)(null),[P,C]=(0,i.useState)(!1),S=async e=>{if("prev"===e&&v>0){b(e=>e-1),g([]),k(null),C(!1);return}if(o&&0!==p.length){y(!0),w(null);try{let e=`https://spin-the-wheel-backend.onrender.com/user/mark/${o}`,s={formId:t,isSurvey:r,questionId:c[v].questionId,optionIds:p},i=await l.Z.post(e,s);r?i.data.marked&&(v===c.length-1?a.push("/api/user/spin"):(b(e=>e+1),g([]))):P?v===c.length-1?a.push("/api/user/spin"):(b(e=>e+1),g([]),k(null),C(!1)):(k(i.data),C(!0))}catch(e){w("Error submitting answer. Please try again."),console.error(e)}finally{y(!1)}}},Z=c[v];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(x,{}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto pt-16 px-4",children:[(0,s.jsx)(h,{current:v+1,total:c.length}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,s.jsx)(m,{question:Z.question,questionId:Z.questionId,options:Z.options,ismarked:Z.ismarked,isMultipleCorrect:Z.isMultipleCorrect,onOptionSelect:g,selectedOption:p,handleNavigation:S,loading:f,isSurvey:r,answerFeedback:N,showingFeedback:P})}),j&&(0,s.jsx)("p",{className:"mt-4 text-red-500 text-center",children:j})]})]})}},81271:(e,t,r)=>{"use strict";r.d(t,{AdminContextProvider:()=>l,Z:()=>a});var s=r(68819),i=r(17266);let n=(0,i.createContext)(void 0);function l({children:e}){let[t,r]=(0,i.useState)(!1),[l,a]=(0,i.useState)(1),[d,o]=(0,i.useState)([]);return(0,s.jsx)(n.Provider,{value:{refresh:t,setRefresh:r,optionIndex:["A","B","C","D"],noOfQuestion:l,setNoofQuestion:a,Form:d,setForm:o},children:e})}let a=n},99071:(e,t,r)=>{"use strict";r.d(t,{AppModeContextProvider:()=>l,Z:()=>a});var s=r(68819),i=r(17266);let n=(0,i.createContext)(void 0);function l({children:e}){let[t,r]=(0,i.useState)(!0);return(0,s.jsx)(n.Provider,{value:{lightmode:t,setLightMode:r},children:e})}let a=n},56102:(e,t,r)=>{"use strict";r.d(t,{UserContextProvider:()=>l,Z:()=>a});var s=r(68819),i=r(17266);let n=(0,i.createContext)(void 0);function l({children:e}){let[t,r]=(0,i.useState)("");return(0,s.jsx)(n.Provider,{value:{UserId:t,setUserId:r},children:e})}let a=n},62881:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(17266);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:d,iconNode:o,...c},u)=>(0,s.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:n("lucide",a),...c},[...o.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]])),d=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...l},d)=>(0,s.createElement)(a,{ref:d,iconNode:t,className:n(`lucide-${i(e)}`,r),...l}));return r.displayName=`${e}`,r}},69669:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},66877:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>m,metadata:()=>v});var i=r(89351),n=r(68215),l=r.n(n),a=r(20623),d=r.n(a);r(67272);var o=r(69256),c=r(73449),u=r(3182),x=r(39651),h=e([o,c,u,x]);[o,c,u,x]=h.then?(await h)():h;let v={title:"Create Next App",description:"Generated by create next app"};function m({children:e}){return(0,i.jsx)("html",{lang:"en",children:(0,i.jsx)("body",{className:`${l().variable} ${d().variable} antialiased`,children:(0,i.jsx)(o.eA,{children:(0,i.jsx)(u.H,{children:(0,i.jsx)(c.f,{children:(0,i.jsx)(x.S,{children:e})})})})})})}s()}catch(e){s(e)}})},3182:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{H:()=>n});var i=r(71851);let e=await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/context/adminContext.tsx`),n=e.AdminContextProvider;e.default,s()}catch(e){s(e)}},1)},39651:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{S:()=>n});var i=r(71851);let e=await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/context/appMode.tsx`),n=e.AppModeContextProvider;e.default,s()}catch(e){s(e)}},1)},73449:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{f:()=>n});var i=r(71851);let e=await (0,i.createProxy)(String.raw`/home/trex4096/Desktop/Projects/test/context/userContext.tsx`),n=e.UserContextProvider;e.default,s()}catch(e){s(e)}},1)},67272:()=>{}};